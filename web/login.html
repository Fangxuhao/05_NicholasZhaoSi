<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>fxh</title>
    <script type="text/javascript"
            src="jquery.min.js"></script>
    <script src="jquery.jgrowl.min.js"></script>

    <!--图标样式-->
    <link rel="stylesheet" href="css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/jquery.jgrowl.min.css">

</head>
<body>
<h2> 登录/注册 </h2>
<div class="container" id="container">
    <div class="form-container sign-up-container">
        <form action="/register" method="post" id="register_from">
            <h1>注册</h1>
            <input type="text" placeholder="名称" name="name" id="r_name">
            <input type="email" placeholder="邮箱" name="email" id="r_email" onblur="checkGender()">
            <input type="password" placeholder="密码" name="pwd" id="r_pwd">
            <div style="width: 100%;">
                <div style="width: 50%;float: left;display: block;"><input type="text" placeholder="验证码" id="r_code" name="code"
                >
                </div>
                <div style="width: 50%;float: left;display: block;margin: 8px 0; padding: 12px 15px;">
                    <a> <img onclick="changeImg()" id="imgObj" alt="获取验证码" src="/codeServlet"></a>
                </div>
            </div>
            <button  type="button"  onclick="login()" >注册</button>
        </form>
    </div>
    <div class="form-container sign-in-container">
        <form action="/login" method="post">
            <h1>登录</h1>
            <input type="email" placeholder="邮箱" name="email">
            <input type="password" placeholder="密码" name="pwd">
            <div style="width: 100%;">
                <div style="width: 50%;float: left;display: block;"><input type="text" placeholder="验证码" name="code"
                >
                </div>
                <div style="width: 50%;float: left;display: block;margin: 8px 0; padding: 12px 15px;"><img alt="验证码"
                                                                                                           src="">
                </div>
            </div>
            <a href="#">忘记密码？</a>
            <button type="submit">登录</button>
        </form>
    </div>
    <div class="overlay-container">
        <div class="overlay">
            <div class="overlay-panel overlay-left">
                <h1>欢迎回来！</h1>
                <p>请您先登录个人账号，进行操作。</p>
                <button class="ghost" id="signIn" onclick="changeImg()">登录</button>
            </div>
            <div class="overlay-panel overlay-right">
                <h1>你好朋友！</h1>
                <p>输入您的个人信息注册成为会员。</p>
                <button class="ghost" id="signUp" onclick="changeImg()">注册</button>
            </div>
        </div>
    </div>
</div>
<footer>
    <p>
        fxh
    </p>
</footer>
<script src="js/index.js"></script>
<script src="js/Longin.js"></script>
<script type="text/javascript">

    function changeImg() {

        // alert( img.src="/codeServlet?time="+new Date().getTime());
        // img.src="/codeServlet?time="+new Date().getTime();
        // document.getElementById("imgObj")[0].setsrc="/codeServlet?time="+new Date().getTime();
        var imgSrc = $("#imgObj");

        var src = imgSrc.attr("src");
        imgSrc.attr("src", chgUrl(src));
    }

    // 时间戳
    //为了使每次生成图片不一致，即不让浏览器读缓存，所以需要加上时间戳
    function chgUrl(url) {

        var timestamp = (new Date()).valueOf();
        url = url.substring(0, 20);
        if ((url.indexOf("&") >= 0)) {
            url = url + "×tamp=" + timestamp;
        } else {
            url = url + "?timestamp=" + timestamp;
        }
        return url;
    }

</script>

</body>
</html>